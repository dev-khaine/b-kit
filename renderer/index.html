<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Markdown Reader</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Highlight.js for syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css" id="hljs-light">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css" id="hljs-dark" disabled>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <!-- Marked for markdown parsing -->
  <script src="https://cdn.jsdelivr.net/npm/marked@11.1.0/marked.min.js"></script>
  <!-- DOMPurify for XSS protection -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <div class="header-content">
        <h1 class="app-title">Markdown Reader</h1>
        <div class="header-controls">
          <button id="openFileBtn" class="btn btn-primary">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M2 3.5C2 2.67157 2.67157 2 3.5 2H6.5C6.89782 2 7.27936 2.15804 7.56066 2.43934L8.5 3.37868C8.78130 3.65998 9.16284 3.81802 9.56066 3.81802H12.5C13.3284 3.81802 14 4.48959 14 5.31802V12.5C14 13.3284 13.3284 14 12.5 14H3.5C2.67157 14 2 13.3284 2 12.5V3.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Open File
          </button>
          <button id="themeToggle" class="btn btn-icon" title="Toggle theme">
            <svg class="theme-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M10 3V4M10 16V17M17 10H16M4 10H3M14.5 5.5L13.79 6.21M6.21 13.79L5.5 14.5M14.5 14.5L13.79 13.79M6.21 6.21L5.5 5.5M13 10C13 11.6569 11.6569 13 10 13C8.34315 13 7 11.6569 7 10C7 8.34315 8.34315 7 10 7C11.6569 7 13 8.34315 13 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </div>
    </header>

    <div class="main-layout">
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <h2>Contents</h2>
        </div>
        <nav class="toc" id="tableOfContents">
          <p class="toc-empty">Open a Markdown file to see the table of contents</p>
        </nav>
      </aside>

      <main class="content-area">
        <div id="dropZone" class="drop-zone">
          <div class="drop-zone-content">
            <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
              <path d="M32 8V24M32 24L24 16M32 24L40 16M16 32H8M56 32H48M44 44L48 48M20 20L16 16M44 20L48 16M20 44L16 48" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="32" cy="32" r="20" stroke="currentColor" stroke-width="2"/>
            </svg>
            <h2>Drop a Markdown file here</h2>
            <p>or</p>
            <button id="dropZoneBtn" class="btn btn-large">Choose File</button>
            <p class="drop-zone-hint">Supports .md and .markdown files</p>
          </div>
        </div>

        <article id="markdownContent" class="markdown-content" style="display: none;">
          <div class="document-header">
            <h1 id="documentTitle" class="document-title"></h1>
            <p id="documentPath" class="document-path"></p>
          </div>
          <div id="renderedMarkdown" class="rendered-markdown"></div>
        </article>
      </main>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>